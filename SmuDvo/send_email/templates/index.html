{% load staticfiles %}
<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize.min.css' %}"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="{% static 'css/style.css' %}"  media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body>
      <nav>
        <div class="nav-wrapper container">
          <a href="{% url 'index' %}" class="brand-logo">Django</a>
        </div>
      </nav>
    <div class="container login-f">
      <div class="row">
        <form class="col s12 m6 offset-m3" action="/success" id="form" method="POST">
        {% csrf_token %}
          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title">Signup for Newsletter</span>
              <div class="input-field col s12">
                <input id="email" type="email" name="email" class="validate">
                <label for="email">Email</label>
              </div>
              <div class="col s12">
                <input type="checkbox" class="filled-in" name="checkbox" id="test5" />
                <label for="test5">Welcome Email</label>
              </div>
            </div>
            <div class="card-action">
              <a href="#" onclick="isEmail(document.getElementById('email').value)">SignUp</a>
            </div>
          </div>
        </form>
      </div>
    </div>
    <footer class="page-footer">
      <div class="footer-copyright">
        <div class="container">&copy; 2015 Copyright Muhammad Yasoob
        </div>
      </div>
    </footer>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="{% static 'js/materialize.min.js' %}"></script>
    <script type="text/javascript">
      function isEmail(email) {
        var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        if (re.test(email)) {
          document.getElementById('form').submit();
        } else{
          alert("Your email is incorrect!");
        }
      }
    </script>
  </body>
</html>